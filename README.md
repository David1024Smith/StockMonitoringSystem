# StockMonitoringSystem
股票监控系统 (StockMonitoringSystem)，采用的是qt和新浪的api来设计

# ![PixPin_2025-08-15_14-01-33](./img/PixPin_2025-08-15_14-01-33.png)2025/8/15修复总结


### 1. 日K、周K、月K显示问题
**问题原因：**
- `endDay`边界处理错误，导致绘制范围计算错误
- X轴步长计算使用了错误的总数据量而不是实际显示的数据量
- 索引边界检查不完善，可能导致数组越界

**解决方案：**
- 修复了`endDay`的边界处理，确保作为上界使用
- 修正了X轴步长计算，使用实际显示的数据量
- 加强了所有绘制函数中的边界检查
- 优化了K线绘制逻辑，确保正确的坐标计算

### 2. 日志过多问题
**问题原因：**
- 每次绘制事件都输出大量调试信息
- 网络请求和数据解析过程中有过多的详细日志
- 生成测试数据时打印所有数据点

**解决方案：**
- 移除了paintEvent和drawLine中的冗余日志
- 简化了网络请求的日志输出，只在关键节点输出
- 优化了测试数据生成的日志，只显示汇总信息
- 保留了关键的错误和状态日志

### 3. 代码优化
**改进内容：**
- 统一了边界检查逻辑
- 优化了绘制性能
- 改进了错误处理机制
- 增强了代码的健壮性

新增功能

多个真实分时数据API：
腾讯分时数据API：提供真实的分钟级分时数据
东方财富分时数据API：提供详细的分时走势数据
网易分时数据API：原有API作为备用
新浪实时数据API：最后的备用方案

智能数据解析：
自动识别不同API的数据格式
解析真实的分时数据点（时间、价格、成交量）
支持多种时间格式转换

完善的备用机制：
当真实API失败时，自动尝试下一个API
所有API都失败时，生成基于真实价格的模拟数据
保留完全模拟数据作为最后备用
数据质量提升
真实分时数据：获取真实的每分钟价格和成交量数据
准确的时间轴：显示真实的交易时间点
实时更新：30秒更新一次，获取最新的分时数据

日线分时图表，包括：
真实的价格走势曲线
准确的成交量柱状图
正确的时间轴标注
实时的价格提示
